<!--Created by Matt Weber <matt@badecho.com>
    Copyright @ 2025 Bad Echo LLC. All rights reserved.

    Bad Echo Technologies are licensed under the
    GNU Affero General Public License v3.0.

    See accompanying file LICENSE.md or a copy at:
    https://www.gnu.org/licenses/agpl-3.0.html-->
<Window x:Class="BadEcho.QuickActions.MainWindow"
        x:ClassModifier="internal"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:badEcho="http://schemas.badecho.com/presentation/2022/02/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:v="clr-namespace:BadEcho.QuickActions.Views"
        xmlns:vm="clr-namespace:BadEcho.QuickActions.ViewModels"
        mc:Ignorable="d"
        Title="QuickActionsWindow"
        d:DesignStyle="{StaticResource DesignTimeControlStyle}"
        d:DesignWidth="850"
        Icon="pack://application:,,,/Assets/Icon.ico"
        >
    <d:DesignProperties.DataContext>
        <vm:MainViewModel>
            <vm:MainViewModel.CurrentViewModel>
                <vm:ActionsViewModel>
                    <vm:ActionsViewModel.Items>
                        <vm:ScriptActionViewModel Arguments="-d 10"
                                                  Path="D:\scripts\SampleScript.ps1"
                                                  ShellType="PowerShell"
                                                  />
                        <vm:ScriptActionViewModel Arguments="-e 22 -f 9"
                                                  Path="D:\scripts\SampleScript.cmd"
                                                  ShellType="Command"
                                                  />
                        <vm:ScriptActionViewModel Arguments="-e 22 -f 9"
                                                  Path="D:\scripts\SampleScript.cmd"
                                                  ShellType="Command"
                                                  />
                        <vm:ScriptActionViewModel Arguments="-e 22 -f 9"
                                                  Path="D:\scripts\SampleScript11.cmd"
                                                  ShellType="Command"
                                                  />
                    </vm:ActionsViewModel.Items>
                </vm:ActionsViewModel>
            </vm:MainViewModel.CurrentViewModel>
        </vm:MainViewModel>
    </d:DesignProperties.DataContext>
    <badEcho:WindowBehaviors.NonClientArea>
        <badEcho:TitleBar BackCommand="{Binding NavigateBackCommand}"
                          CanGoBack="{Binding CanNavigateBack}"
                          ContentLocation="BeforeNavigation"
                          Padding="4,0,0,0"
                          HorizontalContentAlignment="Left"
                          VerticalContentAlignment="Center"
                          Grid.Row="0"
                          >
            <StackPanel Orientation="Horizontal">
                <Border BorderBrush="{StaticResource ControlElevationBorderBrush}"
                        BorderThickness="1"
                        Margin="4"
                        >
                    <Image RenderOptions.BitmapScalingMode="HighQuality"
                           Source="pack://application:,,,/Assets/Logo.png"
                           />
                </Border>
                <TextBlock Style="{StaticResource SmallSubtitleTextBlockStyle}"
                           Text="quick actions"
                           Margin="16,0,0,0"
                           VerticalAlignment="Center"
                           />
            </StackPanel>
        </badEcho:TitleBar>
    </badEcho:WindowBehaviors.NonClientArea>
    <Window.Resources>
        <badEcho:ViewContextTemplateSelector x:Key="ContextSelector" />
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <DockPanel LastChildFill="False"
                   Grid.Column="0"
                   >
            <v:NavigationPaneView DataContext="{Binding NavigationViewModel}"
                                  DockPanel.Dock="Top"
                                  />
            <Button Click="HandleSettingsClick"
                    Width="100"
                    Margin="5"
                    HorizontalContentAlignment="Left"
                    DockPanel.Dock="Bottom"
                    >
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="{StaticResource SymbolThemeFontFamily}"
                               Text="&#xE713;"
                               Margin="0,3,0,0"
                               />
                    <TextBlock Text="Settings"
                               Margin="8,0,0,0"
                               />
                </StackPanel>
            </Button>
        </DockPanel>

        <Border BorderBrush="{StaticResource DividerStrokeColorDefaultBrush}"
                BorderThickness="1,1,0,0"
                CornerRadius="8,0,0,0"
                Margin="4,0,0,0"
                Padding="8,8,8,0"
                Grid.Column="1"
                >
            <UserControl Content="{Binding CurrentViewModel}"
                         ContentTemplateSelector="{StaticResource ContextSelector}"
                         />
        </Border>
    </Grid>
</Window>
