<!--
    <copyright>
		Created by Matt Weber <matt@badecho.com>
		Copyright @ 2025 Bad Echo LLC. All rights reserved.

		Bad Echo Technologies are licensed under the
		GNU Affero General Public License v3.0.

		See accompanying file LICENSE.md or a copy at:
		https://www.gnu.org/licenses/agpl-3.0.html
    </copyright>
-->
<Window x:Class="BadEcho.QuickActions.MainWindow"
        x:ClassModifier="internal"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:badEcho="http://schemas.badecho.com/presentation/2022/02/xaml"
        xmlns:vm="clr-namespace:BadEcho.QuickActions.ViewModels"
        xmlns:v="clr-namespace:BadEcho.QuickActions.Views"
        mc:Ignorable="d"
        Title="QuickActionsWindow"  
        Height="450" 
        Width="780"
        d:DesignStyle="{StaticResource DesignTimeControlStyle}">
    <d:DesignProperties.DataContext>
        <vm:MainViewModel>
            <vm:MainViewModel.CurrentViewModel>
                <vm:HomeViewModel ActionsCount="3" MappingsCount="2"/>
            </vm:MainViewModel.CurrentViewModel>
        </vm:MainViewModel>
    </d:DesignProperties.DataContext>
    <badEcho:WindowBehaviors.NonClientArea>
        <badEcho:TitleBar ContentLocation="BeforeNavigation"
                          VerticalContentAlignment="Center"
                          HorizontalContentAlignment="Left"
                          Padding="4,0,0,0" 
                          Grid.Row="0">
            <StackPanel Orientation="Horizontal">
                <Border BorderBrush="{StaticResource ControlElevationBorderBrush}"
                        BorderThickness="1"
                        Margin="4">
                    <Image Source="pack://application:,,,/Assets/Logo.png"
                           RenderOptions.BitmapScalingMode="HighQuality"
                           />
                </Border>
                <TextBlock Style="{StaticResource BodyStrongTextBlockStyle}"
                           Text="quick actions"
                           FontWeight="Normal"
                           Margin="16,0,0,0" 
                           VerticalAlignment="Center"
                           />
            </StackPanel>
        </badEcho:TitleBar>
    </badEcho:WindowBehaviors.NonClientArea>
    <Window.Resources>
        <badEcho:ViewContextTemplateSelector x:Key="ContextSelector"/>
    </Window.Resources>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <DockPanel LastChildFill="False"
                   Grid.Column="0">
            <v:NavigationPaneView DataContext="{Binding NavigationViewModel}"
                                  DockPanel.Dock="Top"
                                  />
            <Button HorizontalContentAlignment="Left"
                    Width="150"
                    Margin="5"
                    DockPanel.Dock="Bottom">
                <StackPanel Orientation="Horizontal">
                    <TextBlock FontFamily="{StaticResource SymbolThemeFontFamily}"
                               Text="&#xE713;"
                               Margin="0,3,0,0"
                               />
                    <TextBlock Text="Settings"
                               Margin="8,0,0,0"
                               />
                </StackPanel>
            </Button>
        </DockPanel>

        <Border Margin="4,0,0,0"
                Padding="24,16,24,0"
                Grid.Column="1">
            <UserControl Content="{Binding CurrentViewModel}"
                         ContentTemplateSelector="{StaticResource ContextSelector}"
                         />
        </Border>
    </Grid>
</Window>
